## 引言

随着对前端的了解越来越深入，了解到了很多种浏览器的存储方案，如 Cookie、LocalStorage等，哪这些存储方案有何异同，分别的适用场景又是什么呢。

## Cookie

### Cookie的来源

Cookie 被创造出来的本意并不是本地储存，而是为了辨别用户身份。众所周知，Http 协议是无状态的，也就是说你每一次发送给服务器的请求对于服务器来说都是孤立的，服务器不知道这这些请求来自于谁。比如你向购物车里面添加了一些商品，但是当发送结账请求的时候服务器懵了，我怎么知道你是谁，你买了什么呢。而使用 Cookie 之后，服务器就可以通过查看 Cookie 来判断发送用户，一定程度上 Cookies 可以说是请求的身份证。可以告诉服务器请求发送自谁。

### Cookie是什么

百闻不如一见，直接来看看 Cookie 长啥样


这是维基百科使用的 Cookie ，如你所见，Cookie 是以 Name-Value 键值对储存在浏览器中的，其中 Value 又是明显经过了加密的数据。

Cookie 是会自动随着 Http
请求发送，它就随着一次又一次的请求在浏览器和服务器之间起身份鉴别作用

生成方式

Cookie 是所属于域名的，还是维基百科的 Cookie，通过 Domain 属性可以得知前两个 Cookie 是属于 .wikimedia.org 的


Cookie 截图

每个域名只能设置与访问到自己域名下的 Cookie，比如 baidu.com 无法访问 Domain 为 sougou.com 的 Cookie。但是二级域名通过设置 Domain 可以读取和设置一级域名的 Cookie，比如 img.baidu.com 可以设置 Domain='baidu.com' 使 static.baidu.com 也能读取到它设置的 Cookie

//img.baidu.com
--------------------------------------------------------------------------------
document.cookie='age=20;domain=.baidu.com'
--------------------------------------------------------------------------------
// 此时 static.baidu.com 可以直接读取到这个 Cookie

Cookie的生成方式分为 服务器端生成和浏览器端生成。
服务器端-通过设置 http response header中的set-cookie
我们可以通过响应头里的 Set-Cookie 指定要存储的 Cookie 值。当请求返回浏览器的时候浏览器就会按照 header 中的 set-cookie 值设置 Cookie。默认情况下，Domain 被设置为设置 Cookie 页面的主机名，当然我们也可以手动设置 Domain 的值。

Set-Cookie: id=a3fWa; Expires=Wed,
浏览器端- js中可以通过document.cookie可以读写cookie，以键值对的形式展示
前文中我们就是使用的这种方式，Domain 设置和服务器端是一样的

// img.baidu.com
--------------------------------------------------------------------------------
document.cookie="id=a3fWa"
--------------------------------------------------------------------------------
document.cookie='age=20;domain=.baidu.com'

应用场景

既然 Cookie 的作用就是告诉服务器请求来自于谁，那么最主要的作用就是保持用户登陆态（记住密码），除此之外还可以记录用户浏览数据，进行广告推送和前文提到的购物车等。

缺点

缺点其实在前文中就很显而易见了
不够大
Cookie 会随着每一次请求发送，这就注定了 Cookie 必定会有严格的大小限制，每一个 Cookie 的大小被限制在了 4kb，值得注意的是 4kb 指的是一个 Name-Value 的大小，并不是说这个域名可以设置的 Cookie 大小